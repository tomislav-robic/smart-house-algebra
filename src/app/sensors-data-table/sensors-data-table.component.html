
<app-header></app-header>
<div style="display: flex; justify-content: center;"><h2>Sensors data</h2></div>

<div style="display: flex; justify-content: center; margin: 1%;">
  <form class="form-inline"> 
    <div class="row form-group">
      <div class="col">
        <label class="col-form-label">Temperature filter</label>
      </div>
      <div class="col">
        <input type="number" class="form-control" placeholder="From" [readonly]="readonly_t" [(ngModel)]="sort_t1" name="sortT1">
      </div>
      <div class="col">
        <input type="number" class="form-control" placeholder="To" [readonly]="readonly_t" [(ngModel)]="sort_t2" name="sortT2">
      </div>
      <div class="col">
        <div *ngIf="readonly_t" >
          <button (click)="removeFilter_t()" style="margin-left: 3%;" type="button" class="btn btn-danger" >Remove filter</button>
      </div>
      <div  *ngIf="!readonly_t" >
          <button (click)="addFilter_t()" style="margin-left: 3%;" type="button" class="btn btn-primary" >Add filter</button>
      </div>
      </div>
    </div>
  </form>
</div> 

<div style="display: flex; justify-content: center; margin: 1%;">
  <form class="form-inline"> 
    <div class="row form-group">
      <div class="col">
        <label class="col-form-label">Moisture filter</label>
      </div>
      <div class="col">
        <input type="number" class="form-control" placeholder="From" [readonly]="readonly_m" [(ngModel)]="sort_m1" name="sortM1">
      </div>
      <div class="col">
        <input type="number" class="form-control" placeholder="To" [readonly]="readonly_m" [(ngModel)]="sort_m2" name="sortM2">
      </div>
      <div class="col">
        <div *ngIf="readonly_m" >
          <button (click)="removeFilter_m()" style="margin-left: 3%;" type="button" class="btn btn-danger" >Remove filter</button>
      </div>
      <div  *ngIf="!readonly_m" >
          <button (click)="addFilter_m()" style="margin-left: 3%;" type="button" class="btn btn-primary" >Add filter</button>
      </div>
      </div>
    </div>
  </form>
</div> 

<div style="display: flex; justify-content: center; margin: 2%;">
  <form class="form-inline"> 
    <div class="row form-group">
      <div class="col">
        <label class="col-form-label">Time filter</label>
      </div>
      <div class="col">
        <input [readonly]="readonly_d" type="datetime-local" name="sortD1" pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}" [(ngModel)]="sort_d1" required>
      </div>
      <div class="col">
        <input [readonly]="readonly_d"  type="datetime-local" name="sortD2" pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}" [(ngModel)]="sort_d2" required>
      </div>
      <div class="col">
        <div *ngIf="readonly_d" >
          <button (click)="removeFilter_d()" style="margin-left: 3%;" type="button" class="btn btn-danger" >Remove filter</button>
      </div>
      <div  *ngIf="!readonly_d" >
          <button (click)="addFilter_d()" style="margin: 1%;" type="button" class="btn btn-primary" >Add filter</button>
      </div>
      </div>
    </div>
  </form>
</div> 



<div class="mat-elevation-z8" style="margin-top: 5%; margin-left: 25%;margin-right: 25%;">
  <table mat-table class="full-width-table" matSort aria-label="Elements">
    <!-- data_time Column -->
    <ng-container matColumnDef="data_time">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Time</th>
      <td mat-cell *matCellDef="let row">{{row.data_time}}</td>
    </ng-container>

    <!-- temp_column -->
    <ng-container matColumnDef="temp">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Temp</th>
      <td mat-cell *matCellDef="let row">{{row.temp}}</td>
    </ng-container>

    <!-- temp_column -->
    <ng-container matColumnDef="moist">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Moist</th>
      <td mat-cell *matCellDef="let row">{{row.moist}}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

  <mat-paginator #paginator
      [length]="dataSource?.data?.length"
      [pageIndex]="0"
      [pageSize]="10"
      [pageSizeOptions]="[5, 10, 20]">
  </mat-paginator>
</div>
